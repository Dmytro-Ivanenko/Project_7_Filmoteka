{"mappings":"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","sources":["src/library.js","src/js/libraryGallery.js","src/js/libraryOnCardClick.js","src/js/createLibraryModalMarkup.js"],"sourcesContent":["import './js/signupModal';\nimport { translate } from './js/translate';\nimport { gallery } from './js/libraryGallery';\nimport { onLibraryClick } from './js/libraryOnCardClick';\n","import { onSnapshot, doc } from 'firebase/firestore';\nimport Notiflix from 'notiflix';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth, db, authFormOpen, authSignOut } from './auth';\nimport { createMarkupElemetsGallery } from './createMarkupElemetsGallery';\n\nconst watchedBtn = document.querySelector('.watched-btn');\nconst queueBtn = document.querySelector('.queue-btn');\nexport const gallery = document.querySelector('.gallery');\nexport let gallerySection;\n\nwatchedBtn.addEventListener('click', onWatched);\nqueueBtn.addEventListener('click', onQueue);\n\nasync function onWatched() {\n  if (!auth.currentUser) {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.failure('Будь ласка, авторизуйтесь');\n    } else {\n      Notiflix.Notify.failure('Please sign in');\n    }\n    return;\n  }\n\n  gallerySection = 'watched';\n  watchedBtn.classList.add('watched-btn_current');\n  queueBtn.classList.remove('queue-btn_current');\n  gallery.innerHTML = '';\n  monitorWatchedChanges();\n}\n\nasync function onQueue() {\n  if (!auth.currentUser) {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.failure('Будь ласка, авторизуйтесь');\n    } else {\n      Notiflix.Notify.failure('Please sign in');\n    }\n    return;\n  }\n\n  gallerySection = 'queue';\n  watchedBtn.classList.remove('watched-btn_current');\n  queueBtn.classList.add('queue-btn_current');\n  gallery.innerHTML = '';\n  monitorQueueChanges();\n}\n\nfunction monitorWatchedChanges() {\n  onSnapshot(doc(db, 'users', auth.currentUser.uid), snapshot => {\n    const { watchedMovies } = snapshot.data();\n    let watchedMarkup;\n    console.log(watchedMovies);\n    if (window.location.hash === '#ua') {\n      watchedMarkup = watchedMovies.ua.map(createMarkupElemetsGallery).join('');\n    } else {\n      watchedMarkup = watchedMovies.en.map(createMarkupElemetsGallery).join('');\n    }\n    gallery.innerHTML = watchedMarkup;\n  });\n}\n\nfunction monitorQueueChanges() {\n  onSnapshot(doc(db, 'users', auth.currentUser.uid), snapshot => {\n    const { queuedMovies } = snapshot.data();\n    let queueMarkup;\n    console.log(queuedMovies);\n    if (window.location.hash === '#ua') {\n      queueMarkup = queuedMovies.ua.map(createMarkupElemetsGallery).join('');\n    } else {\n      queueMarkup = queuedMovies.en.map(createMarkupElemetsGallery).join('');\n    }\n    gallery.innerHTML = queueMarkup;\n  });\n}\n\nonAuthStateChanged(auth, user => {\n  if (user) {\n    console.log('user logged in: ', user);\n    authSignOut.parentElement.classList.remove('visually-hidden');\n    authFormOpen.parentElement.classList.add('visually-hidden');\n    onWatched();\n  } else {\n    console.log('user logged out');\n    authSignOut.parentElement.classList.add('visually-hidden');\n    authFormOpen.parentElement.classList.remove('visually-hidden');\n  }\n});\n","import { auth, db } from './auth';\nimport { getDoc, doc, updateDoc } from 'firebase/firestore';\nimport Notiflix from 'notiflix';\nimport { gallerySection } from './libraryGallery';\nimport {\n  createLibraryWatchedCardMarkup,\n  createLibraryQueueCardMarkup,\n} from './createLibraryModalMarkup';\nimport { gallery } from './libraryGallery';\n\nlet watchedRemove;\nlet queueRemove;\nlet closeBtn;\nlet currentMovie;\n\nconst backdrop = document.querySelector('.backdrop');\nconst modal = document.querySelector('[data-modal]');\n\ngallery.addEventListener('click', onLibraryClick);\n\nexport async function onLibraryClick(e) {\n  if (e.target === e.currentTarget) {\n    return;\n  }\n\n  const card = e.target.closest('.photo-card');\n  const id = Number(card.dataset.id);\n\n  if (gallerySection === 'watched') {\n    try {\n      const { watchedMovies } = await getDoc(\n        doc(db, 'users', auth.currentUser.uid)\n      ).then(res => {\n        return res.data();\n      });\n\n      if (window.location.hash === '#ua') {\n        currentMovie = watchedMovies.ua.find(movie => movie.id === id);\n      } else {\n        currentMovie = watchedMovies.en.find(movie => movie.id === id);\n      }\n\n      console.log(currentMovie);\n\n      backdropBackground(currentMovie);\n      modal.innerHTML = createLibraryWatchedCardMarkup(currentMovie);\n\n      onWatchedCard();\n    } catch (error) {\n      Notiflix.Notify.failure(error.message);\n    }\n  } else {\n    try {\n      const { queuedMovies } = await getDoc(\n        doc(db, 'users', auth.currentUser.uid)\n      ).then(res => {\n        return res.data();\n      });\n\n      if (window.location.hash === '#ua') {\n        currentMovie = queuedMovies.ua.find(movie => movie.id === id);\n      } else {\n        currentMovie = queuedMovies.en.find(movie => movie.id === id);\n      }\n\n      console.log(currentMovie);\n\n      backdropBackground(currentMovie);\n      modal.innerHTML = createLibraryQueueCardMarkup(currentMovie);\n\n      onQueueCard();\n    } catch (error) {\n      Notiflix.Notify.failure(error.message);\n    }\n  }\n  closeBtn = document.querySelector('[data-modal-close]');\n  closeBtn.addEventListener('click', toggleLibraryModal);\n  backdrop.addEventListener('click', onBackdropClick);\n  window.addEventListener('keydown', onEscPress);\n  modal.classList.remove('is-hidden');\n}\n\nfunction backdropBackground(data) {\n  backdrop.style.backgroundImage = `url(\"https://image.tmdb.org/t/p/original/${data.backdrop_path}`;\n  backdrop.style.backgroundSize = 'cover';\n  backdrop.style.backgroundPosition = '50% 50%';\n}\n\nfunction onWatchedCard() {\n  watchedRemove = document.querySelector('[data-watched-remove]');\n  watchedRemove.addEventListener('click', removeFromWatchedLib);\n}\n\nfunction onQueueCard() {\n  queueRemove = document.querySelector('[data-queue-remove]');\n  queueRemove.addEventListener('click', removeFromQueueLib);\n}\n\nasync function removeFromQueueLib() {\n  const { queuedMovies } = await getDoc(\n    doc(db, 'users', auth.currentUser.uid)\n  ).then(res => {\n    return res.data();\n  });\n  queuedMovies.ua = queuedMovies.ua.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  queuedMovies.en = queuedMovies.en.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  await updateDoc(doc(db, 'users', auth.currentUser.uid), {\n    queuedMovies,\n  }).then(() => {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.success('Успішно видалено');\n    } else {\n      Notiflix.Notify.success('Removed successfully');\n    }\n\n    toggleLibraryModal();\n  });\n}\n\nasync function removeFromWatchedLib() {\n  const { watchedMovies } = await getDoc(\n    doc(db, 'users', auth.currentUser.uid)\n  ).then(res => {\n    return res.data();\n  });\n  watchedMovies.ua = watchedMovies.ua.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  watchedMovies.en = watchedMovies.en.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  await updateDoc(doc(db, 'users', auth.currentUser.uid), {\n    watchedMovies,\n  }).then(() => {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.success('Успішно видалено');\n    } else {\n      Notiflix.Notify.success('Removed successfully');\n    }\n\n    toggleLibraryModal();\n  });\n}\n\nfunction toggleLibraryModal() {\n  backdrop.classList.add('is-hidden');\n  window.removeEventListener('keydown', onEscPress);\n  closeBtn.removeEventListener('click', toggleLibraryModal);\n  backdrop.removeEventListener('click', onBackdropClick);\n  if (watchedRemove) {\n    watchedRemove.removeEventListener('click', removeFromWatchedLib);\n  } else {\n    queueRemove.removeEventListener('click', removeFromQueueLib);\n  }\n}\n\nfunction onEscPress(e) {\n  if (e.code === 'Escape') {\n    toggleLibraryModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === e.currentTarget) {\n    toggleLibraryModal();\n  }\n}\n","export function createLibraryWatchedCardMarkup(data) {\n  const {\n    title,\n    poster_path,\n    genres,\n    vote_average,\n    vote_count,\n    popularity,\n    original_title,\n    overview,\n  } = data;\n\n  const genresName = genres\n    .map(genreId => {\n      return genreId.name;\n    })\n    .join(', ');\n\n  return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">About</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-watched lng-watched modal-card__btn-watched_active\" data-watched-remove>remove from watched</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n}\n\nexport function createLibraryQueueCardMarkup(data) {\n  const {\n    title,\n    poster_path,\n    genres,\n    vote_average,\n    vote_count,\n    popularity,\n    original_title,\n    overview,\n  } = data;\n\n  const genresName = genres\n    .map(genreId => {\n      return genreId.name;\n    })\n    .join(', ');\n\n  return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">About</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-queue lng-queue modal-card__btn-queue_active\" data-queue-remove>remove from queue</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n}\n"],"names":["parcelRequire","$0e0a9756ee7c275e$export$2d835d1f08b42ed3","$bpxeT","$0e0a9756ee7c275e$var$watchedBtn","document","querySelector","$0e0a9756ee7c275e$var$queueBtn","$0e0a9756ee7c275e$export$b21c1b4271bdbe93","$0e0a9756ee7c275e$var$onWatched","$0e0a9756ee7c275e$var$_onWatched","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","$euqRf","auth","currentUser","window","location","hash","$iU1Pc","Notify","failure","classList","add","remove","innerHTML","$0e0a9756ee7c275e$var$monitorWatchedChanges","$0e0a9756ee7c275e$var$_onQueue","$0e0a9756ee7c275e$var$monitorQueueChanges","$6m2hf","onSnapshot","doc","db","uid","snapshot","watchedMarkup","watchedMovies","data","console","log","ua","map","$8ptzx","createMarkupElemetsGallery","join","en","queueMarkup","queuedMovies","addEventListener","$gQOBw","onAuthStateChanged","user","authSignOut","parentElement","authFormOpen","$7d5d99ce0d84e777$var$watchedRemove","$7d5d99ce0d84e777$var$queueRemove","$7d5d99ce0d84e777$var$closeBtn","$7d5d99ce0d84e777$var$currentMovie","$ddb07b902f0701fb$export$cad64ad2e83d7896","title","poster_path","genres","vote_average","vote_count","popularity","original_title","overview","genresName","genreId","name","concat","$ddb07b902f0701fb$export$c21c3b70fa936ba5","$7d5d99ce0d84e777$var$backdrop","$7d5d99ce0d84e777$var$modal","$7d5d99ce0d84e777$var$_onLibraryClick","e","card","id","target","currentTarget","closest","Number","dataset","getDoc","then","res","_ctx","sent","find","movie","$7d5d99ce0d84e777$var$backdropBackground","$7d5d99ce0d84e777$var$onWatchedCard","t0","message","$7d5d99ce0d84e777$var$onQueueCard","t1","$7d5d99ce0d84e777$var$toggleLibraryModal","$7d5d99ce0d84e777$var$onBackdropClick","$7d5d99ce0d84e777$var$onEscPress","style","backgroundImage","backdrop_path","backgroundSize","backgroundPosition","$7d5d99ce0d84e777$var$removeFromWatchedLib","$7d5d99ce0d84e777$var$removeFromQueueLib","$7d5d99ce0d84e777$var$_removeFromQueueLib","filter","updateDoc","success","$7d5d99ce0d84e777$var$_removeFromWatchedLib","removeEventListener","code"],"version":3,"file":"library.8e785fc4.js.map"}