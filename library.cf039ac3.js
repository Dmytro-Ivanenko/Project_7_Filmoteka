!function(){function a(a){return a&&a.__esModule?a.default:a}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},d=t.parcelRequired7c6;null==d&&((d=function(a){if(a in e)return e[a].exports;if(a in n){var t=n[a];delete n[a];var d={id:a,exports:{}};return e[a]=d,t.call(d.exports,d,d.exports),d.exports}var r=new Error("Cannot find module '"+a+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(a,t){n[a]=t},t.parcelRequired7c6=d),d("7eZkt"),d("euqRf"),d("ajO7K");var r,c=d("bpxeT"),o=d("2TvXO"),l=d("6m2hf"),s=d("iU1Pc"),i=d("gQOBw"),u=d("euqRf"),_=d("8ptzx"),m=d("4Nugj"),b=document.querySelector(".watched-btn"),p=document.querySelector(".queue-btn"),v=document.querySelector(".gallery");function h(){return g.apply(this,arguments)}function g(){return(g=a(c)(a(o).mark((function t(){return a(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.auth.currentUser){t.next=3;break}return"#ua"===window.location.hash?a(s).Notify.failure("Будь ласка, авторизуйтесь"):a(s).Notify.failure("Please sign in"),t.abrupt("return");case 3:r="watched",b.classList.add("watched-btn_current"),p.classList.remove("queue-btn_current"),v.innerHTML="",w();case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return(f=a(c)(a(o).mark((function t(){return a(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u.auth.currentUser){t.next=3;break}return"#ua"===window.location.hash?a(s).Notify.failure("Будь ласка, авторизуйтесь"):a(s).Notify.failure("Please sign in"),t.abrupt("return");case 3:r="queue",b.classList.remove("watched-btn_current"),p.classList.add("queue-btn_current"),v.innerHTML="",y();case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){(0,l.onSnapshot)((0,l.doc)(u.db,"users",u.auth.currentUser.uid),(function(a){var t,e=a.data().watchedMovies;console.log(e),t="#ua"===window.location.hash?e.ua.map(_.createMarkupElemetsGallery).join(""):e.en.map(_.createMarkupElemetsGallery).join(""),v.innerHTML=t}))}function y(){(0,l.onSnapshot)((0,l.doc)(u.db,"users",u.auth.currentUser.uid),(function(a){var t,e=a.data().queuedMovies;console.log(e),t="#ua"===window.location.hash?e.ua.map(_.createMarkupElemetsGallery).join(""):e.en.map(_.createMarkupElemetsGallery).join(""),v.innerHTML=t}))}b.addEventListener("click",h),p.addEventListener("click",(function(){return f.apply(this,arguments)})),(0,i.onAuthStateChanged)(u.auth,(function(a){a?(console.log("user logged in: ",a),u.authSignOut.parentElement.classList.remove("visually-hidden"),u.authFormOpen.parentElement.classList.add("visually-hidden"),h()):(console.log("user logged out"),u.authSignOut.parentElement.classList.add("visually-hidden"),u.authFormOpen.parentElement.classList.remove("visually-hidden")),m.refs.siteNav.classList.remove("visually-hidden")}));c=d("bpxeT"),o=d("2TvXO"),u=d("euqRf"),l=d("6m2hf"),s=d("iU1Pc");function L(a){if("#ua"===window.location.hash){var t=a.title,e=a.poster_path,n=a.genres,d=a.vote_average,r=a.vote_count,c=a.popularity,o=a.original_title,l=a.overview,s=n.map((function(a){return a.name})).join(", ");return'\n      <div class="modal">\n          <div class="modal-card">\n              <button class="modal__btn-close" data-modal-close>\n              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"\n              class="modal__icon-close"\n              width="24" height="24"\n              viewBox="0 0 24 24">\n              <path d="M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z"></path>\n              </svg>\n              </button>\n              <div class="modal-card__images">\n                  <img\n                  class="modal-card__image"\n                  src="https://image.tmdb.org/t/p/w1280/'.concat(e,'"\n                  alt="Title"\n                  />\n              </div>\n              <div class="modal-card__description">\n                  <h2 class="modal-card__title">').concat(t,'</h2>\n                  <table class="modal-card__table">\n                  <tbody>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Vote / Votes</td>\n                      <td class="modal-card__table-data"><span>').concat(d,"</span> / ").concat(r,'</td>\n                      </tr>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Popularity</td>\n                      <td class="modal-card__table-data">').concat(c,'</td>\n                      </tr>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Original Title</td>\n                      <td class="modal-card__table-data">').concat(o,'</td>\n                      </tr>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Genre</td>\n                      <td class="modal-card__table-data">').concat(s,'</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class="modal-card__about lng-about">КОРОТКИЙ ОПИС ФІЛЬМУ</p>\n                  <p class="modal-card__about-description">').concat(l,'</p>\n                  <div class="modal-card__btn">\n                    <button class="modal-card__btn-watched lng-watched modal-card__btn-watched_active" data-watched-remove>видалити з перегляду</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  ')}var i=a.title,u=a.poster_path,_=a.genres,m=a.vote_average,b=a.vote_count,p=a.popularity,v=a.original_title,h=a.overview,g=_.map((function(a){return a.name})).join(", ");return'\n      <div class="modal">\n          <div class="modal-card">\n              <button class="modal__btn-close" data-modal-close>\n              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"\n              class="modal__icon-close"\n              width="24" height="24"\n              viewBox="0 0 24 24">\n              <path d="M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z"></path>\n              </svg>\n              </button>\n              <div class="modal-card__images">\n                  <img\n                  class="modal-card__image"\n                  src="https://image.tmdb.org/t/p/w1280/'.concat(u,'"\n                  alt="Title"\n                  />\n              </div>\n              <div class="modal-card__description">\n                  <h2 class="modal-card__title">').concat(i,'</h2>\n                  <table class="modal-card__table">\n                  <tbody>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Vote / Votes</td>\n                      <td class="modal-card__table-data"><span>').concat(m,"</span> / ").concat(b,'</td>\n                      </tr>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Popularity</td>\n                      <td class="modal-card__table-data">').concat(p,'</td>\n                      </tr>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Original Title</td>\n                      <td class="modal-card__table-data">').concat(v,'</td>\n                      </tr>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Genre</td>\n                      <td class="modal-card__table-data">').concat(g,'</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class="modal-card__about lng-about">About</p>\n                  <p class="modal-card__about-description">').concat(h,'</p>\n                  <div class="modal-card__btn">\n                    <button class="modal-card__btn-watched lng-removewatched modal-card__btn-watched_active" data-watched-remove>remove from watched</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  ')}function x(a){if("#ua"===window.location.hash){var t=a.title,e=a.poster_path,n=a.genres,d=a.vote_average,r=a.vote_count,c=a.popularity,o=a.original_title,l=a.overview,s=n.map((function(a){return a.name})).join(", ");return'\n      <div class="modal">\n          <div class="modal-card">\n              <button class="modal__btn-close" data-modal-close>\n              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"\n              class="modal__icon-close"\n              width="24" height="24"\n              viewBox="0 0 24 24">\n              <path d="M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z"></path>\n              </svg>\n              </button>\n              <div class="modal-card__images">\n                  <img\n                  class="modal-card__image"\n                  src="https://image.tmdb.org/t/p/w1280/'.concat(e,'"\n                  alt="Title"\n                  />\n              </div>\n              <div class="modal-card__description">\n                  <h2 class="modal-card__title">').concat(t,'</h2>\n                  <table class="modal-card__table">\n                  <tbody>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Vote / Votes</td>\n                      <td class="modal-card__table-data"><span>').concat(d,"</span> / ").concat(r,'</td>\n                      </tr>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Popularity</td>\n                      <td class="modal-card__table-data">').concat(c,'</td>\n                      </tr>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Original Title</td>\n                      <td class="modal-card__table-data">').concat(o,'</td>\n                      </tr>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Genre</td>\n                      <td class="modal-card__table-data">').concat(s,'</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class="modal-card__about lng-about">КОРОТКИЙ ОПИС ФІЛЬМУ</p>\n                  <p class="modal-card__about-description">').concat(l,'</p>\n                  <div class="modal-card__btn">\n                    <button class="modal-card__btn-queue lng-queue modal-card__btn-queue_active" data-queue-remove>видалити з черги</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  ')}var i=a.title,u=a.poster_path,_=a.genres,m=a.vote_average,b=a.vote_count,p=a.popularity,v=a.original_title,h=a.overview,g=_.map((function(a){return a.name})).join(", ");return'\n      <div class="modal">\n          <div class="modal-card">\n              <button class="modal__btn-close" data-modal-close>\n              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"\n              class="modal__icon-close"\n              width="24" height="24"\n              viewBox="0 0 24 24">\n              <path d="M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z"></path>\n              </svg>\n              </button>\n              <div class="modal-card__images">\n                  <img\n                  class="modal-card__image"\n                  src="https://image.tmdb.org/t/p/w1280/'.concat(u,'"\n                  alt="Title"\n                  />\n              </div>\n              <div class="modal-card__description">\n                  <h2 class="modal-card__title">').concat(i,'</h2>\n                  <table class="modal-card__table">\n                  <tbody>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Vote / Votes</td>\n                      <td class="modal-card__table-data"><span>').concat(m,"</span> / ").concat(b,'</td>\n                      </tr>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Popularity</td>\n                      <td class="modal-card__table-data">').concat(p,'</td>\n                      </tr>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Original Title</td>\n                      <td class="modal-card__table-data">').concat(v,'</td>\n                      </tr>\n                      <tr class="modal-card__table-row">\n                      <td class="modal-card__table-data modal-card__table-data--grey">Genre</td>\n                      <td class="modal-card__table-data">').concat(g,'</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class="modal-card__about lng-about">About</p>\n                  <p class="modal-card__about-description">').concat(h,'</p>\n                  <div class="modal-card__btn">\n                    <button class="modal-card__btn-queue lng-removequeued modal-card__btn-queue_active" data-queue-remove>remove from queue</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  ')}var k,q,E,M,T=d("ajO7K"),O=document.querySelector(".backdrop"),N=document.querySelector("[data-modal]");function S(){return(S=a(c)(a(o).mark((function t(e){var n,d,c,i;return a(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.target!==e.currentTarget){t.next=2;break}return t.abrupt("return");case 2:if(n=e.target.closest(".photo-card"),d=Number(n.dataset.id),"watched"!==r){t.next=21;break}return t.prev=5,t.next=8,(0,l.getDoc)((0,l.doc)(u.db,"users",u.auth.currentUser.uid)).then((function(a){return a.data()}));case 8:c=t.sent.watchedMovies,M="#ua"===window.location.hash?c.ua.find((function(a){return a.id===d})):c.en.find((function(a){return a.id===d})),console.log(M),U(M),N.innerHTML=L(M),j(),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),a(s).Notify.failure(t.t0.message);case 19:t.next=35;break;case 21:return t.prev=21,t.next=24,(0,l.getDoc)((0,l.doc)(u.db,"users",u.auth.currentUser.uid)).then((function(a){return a.data()}));case 24:i=t.sent.queuedMovies,M="#ua"===window.location.hash?i.ua.find((function(a){return a.id===d})):i.en.find((function(a){return a.id===d})),console.log(M),U(M),N.innerHTML=x(M),P(),t.next=35;break;case 32:t.prev=32,t.t1=t.catch(21),a(s).Notify.failure(t.t1.message);case 35:(0,T.changeLanguage)(),(E=document.querySelector("[data-modal-close]")).addEventListener("click",z),O.addEventListener("click",B),window.addEventListener("keydown",H),N.classList.remove("is-hidden");case 41:case"end":return t.stop()}}),t,null,[[5,16],[21,32]])})))).apply(this,arguments)}function U(a){O.style.backgroundImage='url("https://image.tmdb.org/t/p/original/'.concat(a.backdrop_path),O.style.backgroundSize="cover",O.style.backgroundPosition="50% 50%"}function j(){(k=document.querySelector("[data-watched-remove]")).addEventListener("click",V)}function P(){(q=document.querySelector("[data-queue-remove]")).addEventListener("click",D)}function D(){return G.apply(this,arguments)}function G(){return(G=a(c)(a(o).mark((function t(){var e;return a(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.getDoc)((0,l.doc)(u.db,"users",u.auth.currentUser.uid)).then((function(a){return a.data()}));case 2:return(e=t.sent.queuedMovies).ua=e.ua.filter((function(a){return a.id!==M.id})),e.en=e.en.filter((function(a){return a.id!==M.id})),t.next=7,(0,l.updateDoc)((0,l.doc)(u.db,"users",u.auth.currentUser.uid),{queuedMovies:e}).then((function(){"#ua"===window.location.hash?a(s).Notify.success("Успішно видалено"):a(s).Notify.success("Removed successfully"),z()}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(){return R.apply(this,arguments)}function R(){return(R=a(c)(a(o).mark((function t(){var e;return a(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.getDoc)((0,l.doc)(u.db,"users",u.auth.currentUser.uid)).then((function(a){return a.data()}));case 2:return(e=t.sent.watchedMovies).ua=e.ua.filter((function(a){return a.id!==M.id})),e.en=e.en.filter((function(a){return a.id!==M.id})),t.next=7,(0,l.updateDoc)((0,l.doc)(u.db,"users",u.auth.currentUser.uid),{watchedMovies:e}).then((function(){"#ua"===window.location.hash?a(s).Notify.success("Успішно видалено"):a(s).Notify.success("Removed successfully"),z()}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(){O.classList.add("is-hidden"),window.removeEventListener("keydown",H),E.removeEventListener("click",z),O.removeEventListener("click",B),k?k.removeEventListener("click",V):q.removeEventListener("click",D)}function H(a){"Escape"===a.code&&z()}function B(a){a.target===a.currentTarget&&z()}v.addEventListener("click",(function(a){return S.apply(this,arguments)}))}();
//# sourceMappingURL=library.cf039ac3.js.map
