{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-0e921412f8c8e642.js","src/library.js","src/js/libraryGallery.js","src/js/emptyColPlaceholder.js","node_modules/@parcel/runtime-js/lib/runtime-171347f98de84433.js","src/js/libraryOnCardClick.js","src/js/createLibraryModalMarkup.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"2Y0K8\\\":\\\"library.baa88b0f.js\\\",\\\"6aran\\\":\\\"library-placeholder.e58e946c.jpg\\\",\\\"7mVsD\\\":\\\"index.5e3c4d9a.css\\\",\\\"7nwxg\\\":\\\"library.54d7cd34.js\\\"}\"));","import { switchMode, loadMode } from './js/mode';\nimport './js/signupModal';\nimport './js/auth';\nimport { translate } from './js/translate';\nimport './js/libraryGallery';\nimport { onLibraryClick } from './js/libraryOnCardClick';\nimport { fullscreenToggle } from './js/fullscreen';\nimport {\n  toggleModal,\n  closeModalOnBackdropClick,\n} from './js/createModalCardsStudents';\nimport './js/getTrailerFilm';\n","import { onSnapshot, doc } from 'firebase/firestore';\nimport Notiflix from 'notiflix';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth, db, authFormOpen, authSignOut } from './auth';\nimport { createMarkupElemetsGallery } from './createMarkupElemetsGallery';\nimport { refs } from './refs';\nimport {\n  getEmptyColPlaceholder,\n  getUnauthorizedLibraryPlaceholder,\n} from './emptyColPlaceholder';\n\nconst watchedBtn = document.querySelector('.watched-btn');\nconst queueBtn = document.querySelector('.queue-btn');\nexport const gallery = document.querySelector('.gallery');\nexport let gallerySection;\n\nwatchedBtn.addEventListener('click', onWatched);\nqueueBtn.addEventListener('click', onQueue);\n\nasync function onWatched() {\n  if (!auth.currentUser) {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.failure('Будь ласка, авторизуйтесь');\n    } else {\n      Notiflix.Notify.failure('Please sign in');\n    }\n    return;\n  }\n\n  gallerySection = 'watched';\n  localStorage.setItem('section', gallerySection);\n  watchedBtn.classList.add('watched-btn_current');\n  queueBtn.classList.remove('queue-btn_current');\n  gallery.innerHTML = '';\n  monitorWatchedChanges();\n}\n\nasync function onQueue() {\n  if (!auth.currentUser) {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.failure('Будь ласка, авторизуйтесь');\n    } else {\n      Notiflix.Notify.failure('Please sign in');\n    }\n    return;\n  }\n\n  gallerySection = 'queue';\n  localStorage.setItem('section', gallerySection);\n  watchedBtn.classList.remove('watched-btn_current');\n  queueBtn.classList.add('queue-btn_current');\n  gallery.innerHTML = '';\n  monitorQueueChanges();\n}\n\nfunction monitorWatchedChanges() {\n  onSnapshot(doc(db, 'users', auth.currentUser.uid), snapshot => {\n    const { watchedMovies } = snapshot.data();\n    let watchedMarkup;\n    if (window.location.hash === '#ua') {\n      if (watchedMovies.ua.length === 0) {\n        watchedMarkup = getEmptyColPlaceholder();\n      } else {\n        watchedMarkup = watchedMovies.ua\n          .map(createMarkupElemetsGallery)\n          .join('');\n      }\n    } else {\n      if (watchedMovies.en.length === 0) {\n        watchedMarkup = getEmptyColPlaceholder();\n      } else {\n        watchedMarkup = watchedMovies.en\n          .map(createMarkupElemetsGallery)\n          .join('');\n      }\n    }\n    gallery.innerHTML = watchedMarkup;\n  });\n}\n\nfunction monitorQueueChanges() {\n  onSnapshot(doc(db, 'users', auth.currentUser.uid), snapshot => {\n    const { queuedMovies } = snapshot.data();\n    let queueMarkup;\n    if (window.location.hash === '#ua') {\n      if (queuedMovies.ua.length === 0) {\n        queueMarkup = getEmptyColPlaceholder();\n      } else {\n        queueMarkup = queuedMovies.ua.map(createMarkupElemetsGallery).join('');\n      }\n    } else {\n      if (queuedMovies.en.length === 0) {\n        queueMarkup = getEmptyColPlaceholder();\n      } else {\n        queueMarkup = queuedMovies.en.map(createMarkupElemetsGallery).join('');\n      }\n    }\n    gallery.innerHTML = queueMarkup;\n  });\n}\n\nonAuthStateChanged(auth, user => {\n  if (user) {\n    authSignOut.parentElement.classList.remove('visually-hidden');\n    authFormOpen.parentElement.classList.add('visually-hidden');\n    if (localStorage.getItem('section') === 'queue') {\n      onQueue();\n    } else {\n      onWatched();\n    }\n  } else {\n    authSignOut.parentElement.classList.add('visually-hidden');\n    authFormOpen.parentElement.classList.remove('visually-hidden');\n    gallery.innerHTML = getUnauthorizedLibraryPlaceholder();\n  }\n  refs.siteNav.classList.remove('visually-hidden');\n});\n","import placeholderImg from '../images/library/library-placeholder.jpg';\n\nexport function getUnauthorizedLibraryPlaceholder() {\n  if (window.location.hash === '#ua') {\n    return `\n        <div class=\"placeholder\">\n        <img\n          src=\"${placeholderImg}\"\n          alt=\"empty field\"\n          class=\"placeholder__img\"\n          width=\"600px\"\n          height=\"450px\"\n        />\n        <p class=\"placeholder__text\">\n            Тут нічого немає... Авторизуйтесь щоб користуватися бібліотекою.\n        </p>\n        </div>\n        `;\n  } else {\n    return `\n        <div class=\"placeholder\">\n        <img\n          src=\"${placeholderImg}\"\n          alt=\"empty field\"\n          class=\"placeholder__img\"\n          width=\"600px\"\n          height=\"450px\"\n        />\n        <p class=\"placeholder__text\">\n            Nothing to see here... Try signing in to use your library.\n        </p>\n        </div>\n        `;\n  }\n}\n\nexport function getEmptyColPlaceholder() {\n  if (window.location.hash === '#ua') {\n    return `\n            <div class=\"placeholder\">\n            <img\n              src=\"${placeholderImg}\"\n              alt=\"empty field\"\n              class=\"placeholder__img\"\n              width=\"600px\"\n              height=\"450px\"\n            />\n            <p class=\"placeholder__text\">\n                Спробуйте додати фільми в вашу колекцію.\n            </p>\n            </div>\n            `;\n  } else {\n    return `\n            <div class=\"placeholder\">\n            <img\n              src=\"${placeholderImg}\"\n              alt=\"empty field\"\n              class=\"placeholder__img\"\n              width=\"600px\"\n              height=\"450px\"\n            />\n            <p class=\"placeholder__text\">\n                Try adding movies to your library.\n            </p>\n            </div>\n            `;\n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"6aran\");","import { auth, db } from './auth';\nimport { getDoc, doc, updateDoc } from 'firebase/firestore';\nimport Notiflix from 'notiflix';\nimport { gallerySection } from './libraryGallery';\nimport {\n  createLibraryWatchedCardMarkup,\n  createLibraryQueueCardMarkup,\n} from './createLibraryModalMarkup';\nimport { gallery } from './libraryGallery';\n\nlet watchedRemove;\nlet queueRemove;\nlet closeBtn;\nlet currentMovie;\n\nconst backdrop = document.querySelector('.backdrop');\nconst modal = document.querySelector('[data-modal]');\n\ngallery.addEventListener('click', onLibraryClick);\n\nexport async function onLibraryClick(e) {\n  if (e.target === e.currentTarget) {\n    return;\n  }\n\n  const card = e.target.closest('.photo-card');\n  const id = Number(card.dataset.id);\n\n  if (gallerySection === 'watched') {\n    try {\n      const { watchedMovies } = await getDoc(\n        doc(db, 'users', auth.currentUser.uid)\n      ).then(res => {\n        return res.data();\n      });\n\n      if (window.location.hash === '#ua') {\n        currentMovie = watchedMovies.ua.find(movie => movie.id === id);\n      } else {\n        currentMovie = watchedMovies.en.find(movie => movie.id === id);\n      }\n\n      backdropBackground(currentMovie);\n      modal.innerHTML = createLibraryWatchedCardMarkup(currentMovie);\n\n      onWatchedCard();\n    } catch (error) {\n      Notiflix.Notify.failure(error.message);\n    }\n  } else {\n    try {\n      const { queuedMovies } = await getDoc(\n        doc(db, 'users', auth.currentUser.uid)\n      ).then(res => {\n        return res.data();\n      });\n\n      if (window.location.hash === '#ua') {\n        currentMovie = queuedMovies.ua.find(movie => movie.id === id);\n      } else {\n        currentMovie = queuedMovies.en.find(movie => movie.id === id);\n      }\n\n      backdropBackground(currentMovie);\n      modal.innerHTML = createLibraryQueueCardMarkup(currentMovie);\n\n      onQueueCard();\n    } catch (error) {\n      Notiflix.Notify.failure(error.message);\n    }\n  }\n  closeBtn = document.querySelector('[data-modal-close]');\n  closeBtn.addEventListener('click', toggleLibraryModal);\n  backdrop.addEventListener('click', onBackdropClick);\n  window.addEventListener('keydown', onEscPress);\n  modal.classList.remove('is-hidden');\n}\n\nfunction backdropBackground(data) {\n  backdrop.style.backgroundImage = `url(\"https://image.tmdb.org/t/p/original/${data.backdrop_path}`;\n  backdrop.style.backgroundSize = 'cover';\n  backdrop.style.backgroundPosition = '50% 50%';\n}\n\nfunction onWatchedCard() {\n  watchedRemove = document.querySelector('[data-watched-remove]');\n  watchedRemove.addEventListener('click', removeFromWatchedLib);\n}\n\nfunction onQueueCard() {\n  queueRemove = document.querySelector('[data-queue-remove]');\n  queueRemove.addEventListener('click', removeFromQueueLib);\n}\n\nasync function removeFromQueueLib() {\n  const { queuedMovies } = await getDoc(\n    doc(db, 'users', auth.currentUser.uid)\n  ).then(res => {\n    return res.data();\n  });\n  queuedMovies.ua = queuedMovies.ua.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  queuedMovies.en = queuedMovies.en.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  await updateDoc(doc(db, 'users', auth.currentUser.uid), {\n    queuedMovies,\n  }).then(() => {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.success('Успішно видалено');\n    } else {\n      Notiflix.Notify.success('Removed successfully');\n    }\n\n    toggleLibraryModal();\n  });\n}\n\nasync function removeFromWatchedLib() {\n  const { watchedMovies } = await getDoc(\n    doc(db, 'users', auth.currentUser.uid)\n  ).then(res => {\n    return res.data();\n  });\n  watchedMovies.ua = watchedMovies.ua.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  watchedMovies.en = watchedMovies.en.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  await updateDoc(doc(db, 'users', auth.currentUser.uid), {\n    watchedMovies,\n  }).then(() => {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.success('Успішно видалено');\n    } else {\n      Notiflix.Notify.success('Removed successfully');\n    }\n\n    toggleLibraryModal();\n  });\n}\n\nfunction toggleLibraryModal() {\n  backdrop.classList.add('is-hidden');\n  window.removeEventListener('keydown', onEscPress);\n  closeBtn.removeEventListener('click', toggleLibraryModal);\n  backdrop.removeEventListener('click', onBackdropClick);\n  if (watchedRemove) {\n    watchedRemove.removeEventListener('click', removeFromWatchedLib);\n  } else {\n    queueRemove.removeEventListener('click', removeFromQueueLib);\n  }\n}\n\nfunction onEscPress(e) {\n  if (e.code === 'Escape') {\n    toggleLibraryModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === e.currentTarget) {\n    toggleLibraryModal();\n  }\n}\n","export function createLibraryWatchedCardMarkup(data) {\n  if (window.location.hash === '#ua') {\n    const {\n      title,\n      poster_path,\n      genres,\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n      overview,\n    } = data;\n\n    const genresName = genres\n      .map(genreId => {\n        return genreId.name;\n      })\n      .join(', ');\n\n    return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">КОРОТКИЙ ОПИС ФІЛЬМУ</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-watched lng-watched modal-card__btn-watched_active\" data-watched-remove>видалити з перегляду</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n  } else {\n    const {\n      title,\n      poster_path,\n      genres,\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n      overview,\n    } = data;\n\n    const genresName = genres\n      .map(genreId => {\n        return genreId.name;\n      })\n      .join(', ');\n\n    return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">About</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-watched lng-removewatched modal-card__btn-watched_active\" data-watched-remove>remove from watched</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n  }\n}\n\nexport function createLibraryQueueCardMarkup(data) {\n  if (window.location.hash === '#ua') {\n    const {\n      title,\n      poster_path,\n      genres,\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n      overview,\n    } = data;\n\n    const genresName = genres\n      .map(genreId => {\n        return genreId.name;\n      })\n      .join(', ');\n\n    return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">КОРОТКИЙ ОПИС ФІЛЬМУ</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-queue lng-queue modal-card__btn-queue_active\" data-queue-remove>видалити з черги</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n  } else {\n    const {\n      title,\n      poster_path,\n      genres,\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n      overview,\n    } = data;\n\n    const genresName = genres\n      .map(genreId => {\n        return genreId.name;\n      })\n      .join(', ');\n\n    return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">About</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-queue lng-removequeued modal-card__btn-queue_active\" data-queue-remove>remove from queue</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n  }\n}\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$bpxeT","$02298c1631d1b098$export$5dd3324684556b6e","window","location","hash","concat","$parcel$interopDefault","$d8500a1860d6fb70$exports","getBundleURL","resolve","$0e0a9756ee7c275e$export$2d835d1f08b42ed3","$0e0a9756ee7c275e$var$watchedBtn","document","querySelector","$0e0a9756ee7c275e$var$queueBtn","$0e0a9756ee7c275e$export$b21c1b4271bdbe93","$0e0a9756ee7c275e$var$onWatched","$0e0a9756ee7c275e$var$_onWatched","apply","this","arguments","$2TvXO","mark","_callee","$euqRf","auth","currentUser","$iU1Pc","Notify","failure","localStorage","setItem","classList","add","remove","innerHTML","$0e0a9756ee7c275e$var$monitorWatchedChanges","$0e0a9756ee7c275e$var$onQueue","$0e0a9756ee7c275e$var$_onQueue","$0e0a9756ee7c275e$var$monitorQueueChanges","$6m2hf","onSnapshot","doc","db","uid","snapshot","watchedMarkup","watchedMovies","data","ua","map","$8ptzx","createMarkupElemetsGallery","join","en","queueMarkup","queuedMovies","addEventListener","$gQOBw","onAuthStateChanged","user","authSignOut","parentElement","authFormOpen","getItem","$4Nugj","refs","siteNav","$7d5d99ce0d84e777$var$watchedRemove","$7d5d99ce0d84e777$var$queueRemove","$7d5d99ce0d84e777$var$closeBtn","$7d5d99ce0d84e777$var$currentMovie","$ddb07b902f0701fb$export$cad64ad2e83d7896","title","poster_path","genres","vote_average","vote_count","popularity","original_title","overview","genresName","genreId","name","title1","poster_path1","genres1","vote_average1","vote_count1","popularity1","original_title1","overview1","genresName1","$ddb07b902f0701fb$export$c21c3b70fa936ba5","title2","poster_path2","genres2","vote_average2","vote_count2","popularity2","original_title2","overview2","genresName2","$7d5d99ce0d84e777$var$backdrop","$7d5d99ce0d84e777$var$modal","$7d5d99ce0d84e777$var$_onLibraryClick","e","card","target","currentTarget","closest","Number","dataset","getDoc","then","res","_ctx","sent","$7d5d99ce0d84e777$var$backdropBackground","find","movie","$7d5d99ce0d84e777$var$onWatchedCard","t0","message","$7d5d99ce0d84e777$var$onQueueCard","t1","$7d5d99ce0d84e777$var$toggleLibraryModal","$7d5d99ce0d84e777$var$onBackdropClick","$7d5d99ce0d84e777$var$onEscPress","style","backgroundImage","backdrop_path","backgroundSize","backgroundPosition","$7d5d99ce0d84e777$var$removeFromWatchedLib","$7d5d99ce0d84e777$var$removeFromQueueLib","$7d5d99ce0d84e777$var$_removeFromQueueLib","filter","updateDoc","success","$7d5d99ce0d84e777$var$_removeFromWatchedLib","removeEventListener","code"],"version":3,"file":"library.baa88b0f.js.map"}