{"mappings":"kpBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,8MCAzDH,EAAA,S,iCCAA,I,EAAAI,EAAAJ,EAAA,S,iECoCO,SAASK,IACd,MAA6B,QAAzBC,OAAOC,SAASC,KACX,iFAGUC,EAAAC,mTAYV,iFAGUD,EAAAC,4S,CCxDrBA,EAAiB,IAAAC,IAAoBX,EAAA,SAAAY,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WFW5F,MAAMC,EAAaC,SAASC,cAAc,gBACpCC,EAAWF,SAASC,cAAc,cAC3BE,EAAUH,SAASC,cAAc,YACvC,IAAIG,EAKXC,eAAeC,IACRC,EAAAC,KAAKC,aASVL,EAAiB,UACjBM,aAAaC,QAAQ,UAAWP,GAChCL,EAAWa,UAAUC,IAAI,uBACzBX,EAASU,UAAUE,OAAO,qBAC1BX,EAAQY,UAAY,IAuBpB,EAAA7B,EAAA8B,aAAW,EAAA9B,EAAA+B,KAAIV,EAAAW,GAAI,QAASX,EAAAC,KAAKC,YAAYU,MAAMC,IACjD,MAAMC,cAAEA,GAAkBD,EAASE,OACnC,IAAIC,EAGAA,EAFyB,QAAzBnC,OAAOC,SAASC,KACc,IAA5B+B,EAAcG,GAAG9C,OACHS,IAEAkC,EAAcG,GAC3BC,IAAIC,EAAAC,4BACJC,KAAK,IAGsB,IAA5BP,EAAcQ,GAAGnD,OACHS,IAEAkC,EAAcQ,GAC3BJ,IAAIC,EAAAC,4BACJC,KAAK,IAGZzB,EAAQY,UAAYQ,CAAa,KAvDJ,QAAzBnC,OAAOC,SAASC,KAClBC,EAAAuC,GAASC,OAAOC,QAAQ,6BAExBzC,EAAAuC,GAASC,OAAOC,QAAQ,iB,CAa9B3B,eAAe4B,IACR1B,EAAAC,KAAKC,aASVL,EAAiB,QACjBM,aAAaC,QAAQ,UAAWP,GAChCL,EAAWa,UAAUE,OAAO,uBAC5BZ,EAASU,UAAUC,IAAI,qBACvBV,EAAQY,UAAY,IA8BpB,EAAA7B,EAAA8B,aAAW,EAAA9B,EAAA+B,KAAIV,EAAAW,GAAI,QAASX,EAAAC,KAAKC,YAAYU,MAAMC,IACjD,MAAMc,aAAEA,GAAiBd,EAASE,OAClC,IAAIa,EAGAA,EAFyB,QAAzB/C,OAAOC,SAASC,KACa,IAA3B4C,EAAaV,GAAG9C,OACJS,IAEA+C,EAAaV,GAAGC,IAAIC,EAAAC,4BAA4BC,KAAK,IAGtC,IAA3BM,EAAaL,GAAGnD,OACJS,IAEA+C,EAAaL,GAAGJ,IAAIC,EAAAC,4BAA4BC,KAAK,IAGvEzB,EAAQY,UAAYoB,CAAW,KA1DF,QAAzB/C,OAAOC,SAASC,KAClBC,EAAAuC,GAASC,OAAOC,QAAQ,6BAExBzC,EAAAuC,GAASC,OAAOC,QAAQ,iB,CA1B9BjC,EAAWqC,iBAAiB,QAAS9B,GACrCJ,EAASkC,iBAAiB,QAASH,IAoFnC,EAAAI,EAAAC,oBAAmB/B,EAAAC,MAAM+B,IACnBA,GACFhC,EAAAiC,YAAYC,cAAc7B,UAAUE,OAAO,mBAC3CP,EAAAmC,aAAaD,cAAc7B,UAAUC,IAAI,mBACD,UAApCH,aAAaiC,QAAQ,WACvBV,IAEA3B,MAGFC,EAAAiC,YAAYC,cAAc7B,UAAUC,IAAI,mBACxCN,EAAAmC,aAAaD,cAAc7B,UAAUE,OAAO,mBAC5CX,EAAQY,UC9GmB,QAAzB3B,OAAOC,SAASC,KACX,qEAGMC,EAAAC,mSAYN,qEAGMD,EAAAC,8RD6FfoD,EAAAC,KAAKC,QAAQlC,UAAUE,OAAO,kBAAkB,IGnHlDP,EAAAzB,EAAA,S,0BCAO,SAASiE,EAA+BzB,GAC7C,GAA6B,QAAzBlC,OAAOC,SAASC,KAAgB,CAClC,MAAM0D,MACJA,EAAKC,YACLA,EAAWC,OACXA,EAAMC,aACNA,EAAYC,WACZA,EAAUC,WACVA,EAAUC,eACVA,EAAcC,SACdA,GACEjC,EAQJ,MAAO,i0BAc+C2B,uLAKRD,6TAKeG,cAAyBC,kQAI/BC,sQAIAC,6PAtCpCJ,EAChBzB,KAAI+B,GACIA,EAAQC,OAEhB7B,KAAK,kPA2CiD2B,oS,CAQpD,CACL,MAAMP,MACJA,EAAKC,YACLA,EAAWC,OACXA,EAAMC,aACNA,EAAYC,WACZA,EAAUC,WACVA,EAAUC,eACVA,EAAcC,SACdA,GACEjC,EAQJ,MAAO,i0BAc+C2B,uLAKRD,6TAKeG,cAAyBC,kQAI/BC,sQAIAC,6PAtCpCJ,EAChBzB,KAAI+B,GACIA,EAAQC,OAEhB7B,KAAK,mOA2CiD2B,yS,EAWtD,SAASG,EAA6BpC,GAC3C,GAA6B,QAAzBlC,OAAOC,SAASC,KAAgB,CAClC,MAAM0D,MACJA,EAAKC,YACLA,EAAWC,OACXA,EAAMC,aACNA,EAAYC,WACZA,EAAUC,WACVA,EAAUC,eACVA,EAAcC,SACdA,GACEjC,EAQJ,MAAO,i0BAc+C2B,uLAKRD,6TAKeG,cAAyBC,kQAI/BC,sQAIAC,6PAtCpCJ,EAChBzB,KAAI+B,GACIA,EAAQC,OAEhB7B,KAAK,kPA2CiD2B,wR,CAQpD,CACL,MAAMP,MACJA,EAAKC,YACLA,EAAWC,OACXA,EAAMC,aACNA,EAAYC,WACZA,EAAUC,WACVA,EAAUC,eACVA,EAAcC,SACdA,GACEjC,EAQJ,MAAO,i0BAc+C2B,uLAKRD,6TAKeG,cAAyBC,kQAI/BC,sQAIAC,6PAtCpCJ,EAChBzB,KAAI+B,GACIA,EAAQC,OAEhB7B,KAAK,mOA2CiD2B,gS,ED/P7D,IAAII,EACAC,EACAC,EACAC,EAEJ,MAAMC,EAAW/D,SAASC,cAAc,aAClC+D,EAAQhE,SAASC,cAAc,gBA8DrC,SAASgE,EAAmB3C,GAC1ByC,EAASG,MAAMC,gBAAkB,4CAA4C7C,EAAK8C,gBAClFL,EAASG,MAAMG,eAAiB,QAChCN,EAASG,MAAMI,mBAAqB,S,CAatCjE,eAAekE,IACb,MAAMrC,aAAEA,SAAuB,EAAAhD,EAAAsF,SAC7B,EAAAtF,EAAA+B,KAAIV,EAAAW,GAAI,QAASX,EAAAC,KAAKC,YAAYU,MAClCsD,MAAKC,GACEA,EAAIpD,SAEbY,EAAaV,GAAKU,EAAaV,GAAGmD,QAChCC,GAASA,EAAMjG,KAAOmF,EAAanF,KAErCuD,EAAaL,GAAKK,EAAaL,GAAG8C,QAChCC,GAASA,EAAMjG,KAAOmF,EAAanF,WAE/B,EAAAO,EAAA2F,YAAU,EAAA3F,EAAA+B,KAAIV,EAAAW,GAAI,QAASX,EAAAC,KAAKC,YAAYU,KAAM,C,aACtDe,IACCuC,MAAK,KACuB,QAAzBrF,OAAOC,SAASC,KAClBC,EAAAuC,GAASC,OAAO+C,QAAQ,oBAExBvF,EAAAuC,GAASC,OAAO+C,QAAQ,wBAG1BC,GAAoB,G,CAIxB1E,eAAe2E,IACb,MAAM3D,cAAEA,SAAwB,EAAAnC,EAAAsF,SAC9B,EAAAtF,EAAA+B,KAAIV,EAAAW,GAAI,QAASX,EAAAC,KAAKC,YAAYU,MAClCsD,MAAKC,GACEA,EAAIpD,SAEbD,EAAcG,GAAKH,EAAcG,GAAGmD,QAClCC,GAASA,EAAMjG,KAAOmF,EAAanF,KAErC0C,EAAcQ,GAAKR,EAAcQ,GAAG8C,QAClCC,GAASA,EAAMjG,KAAOmF,EAAanF,WAE/B,EAAAO,EAAA2F,YAAU,EAAA3F,EAAA+B,KAAIV,EAAAW,GAAI,QAASX,EAAAC,KAAKC,YAAYU,KAAM,C,cACtDE,IACCoD,MAAK,KACuB,QAAzBrF,OAAOC,SAASC,KAClBC,EAAAuC,GAASC,OAAO+C,QAAQ,oBAExBvF,EAAAuC,GAASC,OAAO+C,QAAQ,wBAG1BC,GAAoB,G,CAIxB,SAASA,IACPhB,EAASnD,UAAUC,IAAI,aACvBzB,OAAO6F,oBAAoB,UAAWC,GACtCrB,EAASoB,oBAAoB,QAASF,GACtChB,EAASkB,oBAAoB,QAASE,GAClCxB,EACFA,EAAcsB,oBAAoB,QAASD,GAE3CpB,EAAYqB,oBAAoB,QAASV,E,CAI7C,SAASW,EAAWE,GACH,WAAXA,EAAEC,MACJN,G,CAIJ,SAASI,EAAgBC,GACnBA,EAAEE,SAAWF,EAAEG,eACjBR,G,CAlJJ5E,EAAQiC,iBAAiB,SAElB/B,eAA8B+E,GACnC,GAAIA,EAAEE,SAAWF,EAAEG,cACjB,OAGF,MAAMC,EAAOJ,EAAEE,OAAOG,QAAQ,eACxB9G,EAAK+G,OAAOF,EAAKG,QAAQhH,IAE/B,GAAuB,YAAnByB,EACF,IACE,MAAMiB,cAAEA,SAAwB,EAAAnC,EAAAsF,SAC9B,EAAAtF,EAAA+B,KAAIV,EAAAW,GAAI,QAASX,EAAAC,KAAKC,YAAYU,MAClCsD,MAAKC,GACEA,EAAIpD,SAIXwC,EAD2B,QAAzB1E,OAAOC,SAASC,KACH+B,EAAcG,GAAGoE,MAAKhB,GAASA,EAAMjG,KAAOA,IAE5C0C,EAAcQ,GAAG+D,MAAKhB,GAASA,EAAMjG,KAAOA,IAG7DsF,EAAmBH,GACnBE,EAAMjD,UAAYgC,EAA+Be,GA0CrDH,EAAgB3D,SAASC,cAAc,yBACvC0D,EAAcvB,iBAAiB,QAAS4C,E,CAxCpC,MAAOa,GACPtG,EAAAuC,GAASC,OAAOC,QAAQ6D,EAAMC,Q,MAGhC,IACE,MAAM5D,aAAEA,SAAuB,EAAAhD,EAAAsF,SAC7B,EAAAtF,EAAA+B,KAAIV,EAAAW,GAAI,QAASX,EAAAC,KAAKC,YAAYU,MAClCsD,MAAKC,GACEA,EAAIpD,SAIXwC,EAD2B,QAAzB1E,OAAOC,SAASC,KACH4C,EAAaV,GAAGoE,MAAKhB,GAASA,EAAMjG,KAAOA,IAE3CuD,EAAaL,GAAG+D,MAAKhB,GAASA,EAAMjG,KAAOA,IAG5DsF,EAAmBH,GACnBE,EAAMjD,UAAY2C,EAA6BI,GA0BnDF,EAAc5D,SAASC,cAAc,uBACrC2D,EAAYxB,iBAAiB,QAASmC,E,CAxBlC,MAAOwB,GACPxG,EAAAuC,GAASC,OAAOC,QAAQ+D,EAAMD,Q,CAGlCjC,EAAW7D,SAASC,cAAc,sBAClC4D,EAASzB,iBAAiB,QAAS2C,GACnChB,EAAS3B,iBAAiB,QAAS+C,GACnC/F,OAAOgD,iBAAiB,UAAW8C,GACnClB,EAAMpD,UAAUE,OAAO,Y","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-62ee7fe11154c739.js","src/library.js","src/js/libraryGallery.js","src/js/emptyColPlaceholder.js","node_modules/@parcel/runtime-js/lib/runtime-efd36ecb4ce124d3.js","src/js/libraryOnCardClick.js","src/js/createLibraryModalMarkup.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1zJhX\\\":\\\"library.92dc4767.js\\\",\\\"kSZaG\\\":\\\"library-placeholder.e58e946c.jpg\\\",\\\"7mVsD\\\":\\\"index.5e3c4d9a.css\\\",\\\"eM9ss\\\":\\\"library.e9d0904a.js\\\"}\"));","import { switchMode, loadMode } from './js/mode';\nimport './js/signupModal';\nimport './js/auth';\nimport { translate } from './js/translate';\nimport './js/libraryGallery';\nimport { onLibraryClick } from './js/libraryOnCardClick';\nimport { fullscreenToggle } from './js/fullscreen';\nimport {\n  toggleModal,\n  closeModalOnBackdropClick,\n} from './js/createModalCardsStudents';\nimport './js/getTrailerFilm';\n","import { onSnapshot, doc } from 'firebase/firestore';\nimport Notiflix from 'notiflix';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth, db, authFormOpen, authSignOut } from './auth';\nimport { createMarkupElemetsGallery } from './createMarkupElemetsGallery';\nimport { refs } from './refs';\nimport {\n  getEmptyColPlaceholder,\n  getUnauthorizedLibraryPlaceholder,\n} from './emptyColPlaceholder';\n\nconst watchedBtn = document.querySelector('.watched-btn');\nconst queueBtn = document.querySelector('.queue-btn');\nexport const gallery = document.querySelector('.gallery');\nexport let gallerySection;\n\nwatchedBtn.addEventListener('click', onWatched);\nqueueBtn.addEventListener('click', onQueue);\n\nasync function onWatched() {\n  if (!auth.currentUser) {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.failure('Будь ласка, авторизуйтесь');\n    } else {\n      Notiflix.Notify.failure('Please sign in');\n    }\n    return;\n  }\n\n  gallerySection = 'watched';\n  localStorage.setItem('section', gallerySection);\n  watchedBtn.classList.add('watched-btn_current');\n  queueBtn.classList.remove('queue-btn_current');\n  gallery.innerHTML = '';\n  monitorWatchedChanges();\n}\n\nasync function onQueue() {\n  if (!auth.currentUser) {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.failure('Будь ласка, авторизуйтесь');\n    } else {\n      Notiflix.Notify.failure('Please sign in');\n    }\n    return;\n  }\n\n  gallerySection = 'queue';\n  localStorage.setItem('section', gallerySection);\n  watchedBtn.classList.remove('watched-btn_current');\n  queueBtn.classList.add('queue-btn_current');\n  gallery.innerHTML = '';\n  monitorQueueChanges();\n}\n\nfunction monitorWatchedChanges() {\n  onSnapshot(doc(db, 'users', auth.currentUser.uid), snapshot => {\n    const { watchedMovies } = snapshot.data();\n    let watchedMarkup;\n    if (window.location.hash === '#ua') {\n      if (watchedMovies.ua.length === 0) {\n        watchedMarkup = getEmptyColPlaceholder();\n      } else {\n        watchedMarkup = watchedMovies.ua\n          .map(createMarkupElemetsGallery)\n          .join('');\n      }\n    } else {\n      if (watchedMovies.en.length === 0) {\n        watchedMarkup = getEmptyColPlaceholder();\n      } else {\n        watchedMarkup = watchedMovies.en\n          .map(createMarkupElemetsGallery)\n          .join('');\n      }\n    }\n    gallery.innerHTML = watchedMarkup;\n  });\n}\n\nfunction monitorQueueChanges() {\n  onSnapshot(doc(db, 'users', auth.currentUser.uid), snapshot => {\n    const { queuedMovies } = snapshot.data();\n    let queueMarkup;\n    if (window.location.hash === '#ua') {\n      if (queuedMovies.ua.length === 0) {\n        queueMarkup = getEmptyColPlaceholder();\n      } else {\n        queueMarkup = queuedMovies.ua.map(createMarkupElemetsGallery).join('');\n      }\n    } else {\n      if (queuedMovies.en.length === 0) {\n        queueMarkup = getEmptyColPlaceholder();\n      } else {\n        queueMarkup = queuedMovies.en.map(createMarkupElemetsGallery).join('');\n      }\n    }\n    gallery.innerHTML = queueMarkup;\n  });\n}\n\nonAuthStateChanged(auth, user => {\n  if (user) {\n    authSignOut.parentElement.classList.remove('visually-hidden');\n    authFormOpen.parentElement.classList.add('visually-hidden');\n    if (localStorage.getItem('section') === 'queue') {\n      onQueue();\n    } else {\n      onWatched();\n    }\n  } else {\n    authSignOut.parentElement.classList.add('visually-hidden');\n    authFormOpen.parentElement.classList.remove('visually-hidden');\n    gallery.innerHTML = getUnauthorizedLibraryPlaceholder();\n  }\n  refs.siteNav.classList.remove('visually-hidden');\n});\n","import placeholderImg from '../images/library/library-placeholder.jpg';\n\nexport function getUnauthorizedLibraryPlaceholder() {\n  if (window.location.hash === '#ua') {\n    return `\n        <div class=\"placeholder\">\n        <img\n          src=\"${placeholderImg}\"\n          alt=\"empty field\"\n          class=\"placeholder__img\"\n          width=\"600px\"\n          height=\"450px\"\n        />\n        <p class=\"placeholder__text\">\n            Тут нічого немає... Авторизуйтесь щоб користуватися бібліотекою.\n        </p>\n        </div>\n        `;\n  } else {\n    return `\n        <div class=\"placeholder\">\n        <img\n          src=\"${placeholderImg}\"\n          alt=\"empty field\"\n          class=\"placeholder__img\"\n          width=\"600px\"\n          height=\"450px\"\n        />\n        <p class=\"placeholder__text\">\n            Nothing to see here... Try signing in to use your library.\n        </p>\n        </div>\n        `;\n  }\n}\n\nexport function getEmptyColPlaceholder() {\n  if (window.location.hash === '#ua') {\n    return `\n            <div class=\"placeholder\">\n            <img\n              src=\"${placeholderImg}\"\n              alt=\"empty field\"\n              class=\"placeholder__img\"\n              width=\"600px\"\n              height=\"450px\"\n            />\n            <p class=\"placeholder__text\">\n                Спробуйте додати фільми в вашу колекцію.\n            </p>\n            </div>\n            `;\n  } else {\n    return `\n            <div class=\"placeholder\">\n            <img\n              src=\"${placeholderImg}\"\n              alt=\"empty field\"\n              class=\"placeholder__img\"\n              width=\"600px\"\n              height=\"450px\"\n            />\n            <p class=\"placeholder__text\">\n                Try adding movies to your library.\n            </p>\n            </div>\n            `;\n  }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kSZaG\")).toString();","import { auth, db } from './auth';\nimport { getDoc, doc, updateDoc } from 'firebase/firestore';\nimport Notiflix from 'notiflix';\nimport { gallerySection } from './libraryGallery';\nimport {\n  createLibraryWatchedCardMarkup,\n  createLibraryQueueCardMarkup,\n} from './createLibraryModalMarkup';\nimport { gallery } from './libraryGallery';\n\nlet watchedRemove;\nlet queueRemove;\nlet closeBtn;\nlet currentMovie;\n\nconst backdrop = document.querySelector('.backdrop');\nconst modal = document.querySelector('[data-modal]');\n\ngallery.addEventListener('click', onLibraryClick);\n\nexport async function onLibraryClick(e) {\n  if (e.target === e.currentTarget) {\n    return;\n  }\n\n  const card = e.target.closest('.photo-card');\n  const id = Number(card.dataset.id);\n\n  if (gallerySection === 'watched') {\n    try {\n      const { watchedMovies } = await getDoc(\n        doc(db, 'users', auth.currentUser.uid)\n      ).then(res => {\n        return res.data();\n      });\n\n      if (window.location.hash === '#ua') {\n        currentMovie = watchedMovies.ua.find(movie => movie.id === id);\n      } else {\n        currentMovie = watchedMovies.en.find(movie => movie.id === id);\n      }\n\n      backdropBackground(currentMovie);\n      modal.innerHTML = createLibraryWatchedCardMarkup(currentMovie);\n\n      onWatchedCard();\n    } catch (error) {\n      Notiflix.Notify.failure(error.message);\n    }\n  } else {\n    try {\n      const { queuedMovies } = await getDoc(\n        doc(db, 'users', auth.currentUser.uid)\n      ).then(res => {\n        return res.data();\n      });\n\n      if (window.location.hash === '#ua') {\n        currentMovie = queuedMovies.ua.find(movie => movie.id === id);\n      } else {\n        currentMovie = queuedMovies.en.find(movie => movie.id === id);\n      }\n\n      backdropBackground(currentMovie);\n      modal.innerHTML = createLibraryQueueCardMarkup(currentMovie);\n\n      onQueueCard();\n    } catch (error) {\n      Notiflix.Notify.failure(error.message);\n    }\n  }\n  closeBtn = document.querySelector('[data-modal-close]');\n  closeBtn.addEventListener('click', toggleLibraryModal);\n  backdrop.addEventListener('click', onBackdropClick);\n  window.addEventListener('keydown', onEscPress);\n  modal.classList.remove('is-hidden');\n}\n\nfunction backdropBackground(data) {\n  backdrop.style.backgroundImage = `url(\"https://image.tmdb.org/t/p/original/${data.backdrop_path}`;\n  backdrop.style.backgroundSize = 'cover';\n  backdrop.style.backgroundPosition = '50% 50%';\n}\n\nfunction onWatchedCard() {\n  watchedRemove = document.querySelector('[data-watched-remove]');\n  watchedRemove.addEventListener('click', removeFromWatchedLib);\n}\n\nfunction onQueueCard() {\n  queueRemove = document.querySelector('[data-queue-remove]');\n  queueRemove.addEventListener('click', removeFromQueueLib);\n}\n\nasync function removeFromQueueLib() {\n  const { queuedMovies } = await getDoc(\n    doc(db, 'users', auth.currentUser.uid)\n  ).then(res => {\n    return res.data();\n  });\n  queuedMovies.ua = queuedMovies.ua.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  queuedMovies.en = queuedMovies.en.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  await updateDoc(doc(db, 'users', auth.currentUser.uid), {\n    queuedMovies,\n  }).then(() => {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.success('Успішно видалено');\n    } else {\n      Notiflix.Notify.success('Removed successfully');\n    }\n\n    toggleLibraryModal();\n  });\n}\n\nasync function removeFromWatchedLib() {\n  const { watchedMovies } = await getDoc(\n    doc(db, 'users', auth.currentUser.uid)\n  ).then(res => {\n    return res.data();\n  });\n  watchedMovies.ua = watchedMovies.ua.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  watchedMovies.en = watchedMovies.en.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  await updateDoc(doc(db, 'users', auth.currentUser.uid), {\n    watchedMovies,\n  }).then(() => {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.success('Успішно видалено');\n    } else {\n      Notiflix.Notify.success('Removed successfully');\n    }\n\n    toggleLibraryModal();\n  });\n}\n\nfunction toggleLibraryModal() {\n  backdrop.classList.add('is-hidden');\n  window.removeEventListener('keydown', onEscPress);\n  closeBtn.removeEventListener('click', toggleLibraryModal);\n  backdrop.removeEventListener('click', onBackdropClick);\n  if (watchedRemove) {\n    watchedRemove.removeEventListener('click', removeFromWatchedLib);\n  } else {\n    queueRemove.removeEventListener('click', removeFromQueueLib);\n  }\n}\n\nfunction onEscPress(e) {\n  if (e.code === 'Escape') {\n    toggleLibraryModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === e.currentTarget) {\n    toggleLibraryModal();\n  }\n}\n","export function createLibraryWatchedCardMarkup(data) {\n  if (window.location.hash === '#ua') {\n    const {\n      title,\n      poster_path,\n      genres,\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n      overview,\n    } = data;\n\n    const genresName = genres\n      .map(genreId => {\n        return genreId.name;\n      })\n      .join(', ');\n\n    return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">КОРОТКИЙ ОПИС ФІЛЬМУ</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-watched lng-watched modal-card__btn-watched_active\" data-watched-remove>видалити з перегляду</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n  } else {\n    const {\n      title,\n      poster_path,\n      genres,\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n      overview,\n    } = data;\n\n    const genresName = genres\n      .map(genreId => {\n        return genreId.name;\n      })\n      .join(', ');\n\n    return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">About</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-watched lng-removewatched modal-card__btn-watched_active\" data-watched-remove>remove from watched</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n  }\n}\n\nexport function createLibraryQueueCardMarkup(data) {\n  if (window.location.hash === '#ua') {\n    const {\n      title,\n      poster_path,\n      genres,\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n      overview,\n    } = data;\n\n    const genresName = genres\n      .map(genreId => {\n        return genreId.name;\n      })\n      .join(', ');\n\n    return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">КОРОТКИЙ ОПИС ФІЛЬМУ</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-queue lng-queue modal-card__btn-queue_active\" data-queue-remove>видалити з черги</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n  } else {\n    const {\n      title,\n      poster_path,\n      genres,\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n      overview,\n    } = data;\n\n    const genresName = genres\n      .map(genreId => {\n        return genreId.name;\n      })\n      .join(', ');\n\n    return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">About</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-queue lng-removequeued modal-card__btn-queue_active\" data-queue-remove>remove from queue</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n  }\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$ftYLF","$b30cb15afcab7dbf$export$5dd3324684556b6e","window","location","hash","$parcel$interopDefault","$d5f11e1429bd181f$exports","URL","resolve","import","meta","url","toString","$39513f969432d2d2$var$watchedBtn","document","querySelector","$39513f969432d2d2$var$queueBtn","$39513f969432d2d2$export$b21c1b4271bdbe93","$39513f969432d2d2$export$2d835d1f08b42ed3","async","$39513f969432d2d2$var$onWatched","$bMZn5","auth","currentUser","localStorage","setItem","classList","add","remove","innerHTML","onSnapshot","doc","db","uid","snapshot","watchedMovies","data","watchedMarkup","ua","map","$4iZdw","createMarkupElemetsGallery","join","en","$eWCmQ","Notify","failure","$39513f969432d2d2$var$onQueue","queuedMovies","queueMarkup","addEventListener","$eyjy7","onAuthStateChanged","user","authSignOut","parentElement","authFormOpen","getItem","$krGWQ","refs","siteNav","$42479f6ff0b692eb$export$cad64ad2e83d7896","title","poster_path","genres","vote_average","vote_count","popularity","original_title","overview","genreId","name","$42479f6ff0b692eb$export$c21c3b70fa936ba5","$2fce746e18d71c20$var$watchedRemove","$2fce746e18d71c20$var$queueRemove","$2fce746e18d71c20$var$closeBtn","$2fce746e18d71c20$var$currentMovie","$2fce746e18d71c20$var$backdrop","$2fce746e18d71c20$var$modal","$2fce746e18d71c20$var$backdropBackground","style","backgroundImage","backdrop_path","backgroundSize","backgroundPosition","$2fce746e18d71c20$var$removeFromQueueLib","getDoc","then","res","filter","movie","updateDoc","success","$2fce746e18d71c20$var$toggleLibraryModal","$2fce746e18d71c20$var$removeFromWatchedLib","removeEventListener","$2fce746e18d71c20$var$onEscPress","$2fce746e18d71c20$var$onBackdropClick","e","code","target","currentTarget","card","closest","Number","dataset","find","error","message","error1"],"version":3,"file":"library.92dc4767.js.map"}