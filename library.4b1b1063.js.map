{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-d3021f0cef8a531d.js","src/library.js","src/js/libraryGallery.js","src/js/emptyColPlaceholder.js","node_modules/@parcel/runtime-js/lib/runtime-efd36ecb4ce124d3.js","src/js/libraryOnCardClick.js","src/js/createLibraryModalMarkup.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"1zJhX\\\":\\\"library.4b1b1063.js\\\",\\\"kSZaG\\\":\\\"library-placeholder.e58e946c.jpg\\\",\\\"eM9ss\\\":\\\"library.c2c53f05.js\\\"}\"));","import './js/signupModal';\nimport './js/auth';\nimport { translate } from './js/translate';\nimport './js/libraryGallery';\nimport { onLibraryClick } from './js/libraryOnCardClick';\nimport { switchMode } from './js/mode';\nimport { fullscreenToggle } from './js/fullscreen';\n","import { onSnapshot, doc } from 'firebase/firestore';\nimport Notiflix from 'notiflix';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { auth, db, authFormOpen, authSignOut } from './auth';\nimport { createMarkupElemetsGallery } from './createMarkupElemetsGallery';\nimport { refs } from './refs';\nimport {\n  getEmptyColPlaceholder,\n  getUnauthorizedLibraryPlaceholder,\n} from './emptyColPlaceholder';\n\nconst watchedBtn = document.querySelector('.watched-btn');\nconst queueBtn = document.querySelector('.queue-btn');\nexport const gallery = document.querySelector('.gallery');\nexport let gallerySection;\n\nwatchedBtn.addEventListener('click', onWatched);\nqueueBtn.addEventListener('click', onQueue);\n\nasync function onWatched() {\n  if (!auth.currentUser) {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.failure('Будь ласка, авторизуйтесь');\n    } else {\n      Notiflix.Notify.failure('Please sign in');\n    }\n    return;\n  }\n\n  gallerySection = 'watched';\n  watchedBtn.classList.add('watched-btn_current');\n  queueBtn.classList.remove('queue-btn_current');\n  gallery.innerHTML = '';\n  monitorWatchedChanges();\n}\n\nasync function onQueue() {\n  if (!auth.currentUser) {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.failure('Будь ласка, авторизуйтесь');\n    } else {\n      Notiflix.Notify.failure('Please sign in');\n    }\n    return;\n  }\n\n  gallerySection = 'queue';\n  watchedBtn.classList.remove('watched-btn_current');\n  queueBtn.classList.add('queue-btn_current');\n  gallery.innerHTML = '';\n  monitorQueueChanges();\n}\n\nfunction monitorWatchedChanges() {\n  onSnapshot(doc(db, 'users', auth.currentUser.uid), snapshot => {\n    const { watchedMovies } = snapshot.data();\n    let watchedMarkup;\n    console.log(watchedMovies);\n    if (window.location.hash === '#ua') {\n      if (watchedMovies.ua.length === 0) {\n        watchedMarkup = getEmptyColPlaceholder();\n      } else {\n        watchedMarkup = watchedMovies.ua\n          .map(createMarkupElemetsGallery)\n          .join('');\n      }\n    } else {\n      if (watchedMovies.en.length === 0) {\n        watchedMarkup = getEmptyColPlaceholder();\n      } else {\n        watchedMarkup = watchedMovies.en\n          .map(createMarkupElemetsGallery)\n          .join('');\n      }\n    }\n    gallery.innerHTML = watchedMarkup;\n  });\n}\n\nfunction monitorQueueChanges() {\n  onSnapshot(doc(db, 'users', auth.currentUser.uid), snapshot => {\n    const { queuedMovies } = snapshot.data();\n    let queueMarkup;\n    console.log(queuedMovies);\n    if (window.location.hash === '#ua') {\n      if (queuedMovies.ua.length === 0) {\n        queueMarkup = getEmptyColPlaceholder();\n      } else {\n        queueMarkup = queuedMovies.ua.map(createMarkupElemetsGallery).join('');\n      }\n    } else {\n      if (queuedMovies.en.length === 0) {\n        queueMarkup = getEmptyColPlaceholder();\n      } else {\n        queueMarkup = queuedMovies.en.map(createMarkupElemetsGallery).join('');\n      }\n    }\n    gallery.innerHTML = queueMarkup;\n  });\n}\n\nonAuthStateChanged(auth, user => {\n  if (user) {\n    console.log('user logged in: ', user);\n    authSignOut.parentElement.classList.remove('visually-hidden');\n    authFormOpen.parentElement.classList.add('visually-hidden');\n    onWatched();\n  } else {\n    console.log('user logged out');\n    authSignOut.parentElement.classList.add('visually-hidden');\n    authFormOpen.parentElement.classList.remove('visually-hidden');\n    gallery.innerHTML = getUnauthorizedLibraryPlaceholder();\n  }\n  refs.siteNav.classList.remove('visually-hidden');\n});\n","import placeholderImg from '../images/library/library-placeholder.jpg';\n\nexport function getUnauthorizedLibraryPlaceholder() {\n  if (window.location.hash === '#ua') {\n    return `\n        <div class=\"placeholder\">\n        <img\n          src=\"${placeholderImg}\"\n          alt=\"empty field\"\n          class=\"placeholder__img\"\n          width=\"600px\"\n          height=\"450px\"\n        />\n        <p class=\"placeholder__text\">\n            Тут нічого немає... Авторизуйтесь щоб користуватися бібліотекою.\n        </p>\n        </div>\n        `;\n  } else {\n    return `\n        <div class=\"placeholder\">\n        <img\n          src=\"${placeholderImg}\"\n          alt=\"empty field\"\n          class=\"placeholder__img\"\n          width=\"600px\"\n          height=\"450px\"\n        />\n        <p class=\"placeholder__text\">\n            Nothing to see here... Try signing in to use your library.\n        </p>\n        </div>\n        `;\n  }\n}\n\nexport function getEmptyColPlaceholder() {\n  if (window.location.hash === '#ua') {\n    return `\n            <div class=\"placeholder\">\n            <img\n              src=\"${placeholderImg}\"\n              alt=\"empty field\"\n              class=\"placeholder__img\"\n              width=\"600px\"\n              height=\"450px\"\n            />\n            <p class=\"placeholder__text\">\n                Спробуйте додати фільми в вашу колекцію.\n            </p>\n            </div>\n            `;\n  } else {\n    return `\n            <div class=\"placeholder\">\n            <img\n              src=\"${placeholderImg}\"\n              alt=\"empty field\"\n              class=\"placeholder__img\"\n              width=\"600px\"\n              height=\"450px\"\n            />\n            <p class=\"placeholder__text\">\n                Try adding movies to your library.\n            </p>\n            </div>\n            `;\n  }\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kSZaG\")).toString();","import { auth, db } from './auth';\nimport { getDoc, doc, updateDoc } from 'firebase/firestore';\nimport Notiflix from 'notiflix';\nimport { gallerySection } from './libraryGallery';\nimport {\n  createLibraryWatchedCardMarkup,\n  createLibraryQueueCardMarkup,\n} from './createLibraryModalMarkup';\nimport { gallery } from './libraryGallery';\n\nlet watchedRemove;\nlet queueRemove;\nlet closeBtn;\nlet currentMovie;\n\nconst backdrop = document.querySelector('.backdrop');\nconst modal = document.querySelector('[data-modal]');\n\ngallery.addEventListener('click', onLibraryClick);\n\nexport async function onLibraryClick(e) {\n  if (e.target === e.currentTarget) {\n    return;\n  }\n\n  const card = e.target.closest('.photo-card');\n  const id = Number(card.dataset.id);\n\n  if (gallerySection === 'watched') {\n    try {\n      const { watchedMovies } = await getDoc(\n        doc(db, 'users', auth.currentUser.uid)\n      ).then(res => {\n        return res.data();\n      });\n\n      if (window.location.hash === '#ua') {\n        currentMovie = watchedMovies.ua.find(movie => movie.id === id);\n      } else {\n        currentMovie = watchedMovies.en.find(movie => movie.id === id);\n      }\n\n      console.log(currentMovie);\n\n      backdropBackground(currentMovie);\n      modal.innerHTML = createLibraryWatchedCardMarkup(currentMovie);\n\n      onWatchedCard();\n    } catch (error) {\n      Notiflix.Notify.failure(error.message);\n    }\n  } else {\n    try {\n      const { queuedMovies } = await getDoc(\n        doc(db, 'users', auth.currentUser.uid)\n      ).then(res => {\n        return res.data();\n      });\n\n      if (window.location.hash === '#ua') {\n        currentMovie = queuedMovies.ua.find(movie => movie.id === id);\n      } else {\n        currentMovie = queuedMovies.en.find(movie => movie.id === id);\n      }\n\n      console.log(currentMovie);\n\n      backdropBackground(currentMovie);\n      modal.innerHTML = createLibraryQueueCardMarkup(currentMovie);\n\n      onQueueCard();\n    } catch (error) {\n      Notiflix.Notify.failure(error.message);\n    }\n  }\n  closeBtn = document.querySelector('[data-modal-close]');\n  closeBtn.addEventListener('click', toggleLibraryModal);\n  backdrop.addEventListener('click', onBackdropClick);\n  window.addEventListener('keydown', onEscPress);\n  modal.classList.remove('is-hidden');\n}\n\nfunction backdropBackground(data) {\n  backdrop.style.backgroundImage = `url(\"https://image.tmdb.org/t/p/original/${data.backdrop_path}`;\n  backdrop.style.backgroundSize = 'cover';\n  backdrop.style.backgroundPosition = '50% 50%';\n}\n\nfunction onWatchedCard() {\n  watchedRemove = document.querySelector('[data-watched-remove]');\n  watchedRemove.addEventListener('click', removeFromWatchedLib);\n}\n\nfunction onQueueCard() {\n  queueRemove = document.querySelector('[data-queue-remove]');\n  queueRemove.addEventListener('click', removeFromQueueLib);\n}\n\nasync function removeFromQueueLib() {\n  const { queuedMovies } = await getDoc(\n    doc(db, 'users', auth.currentUser.uid)\n  ).then(res => {\n    return res.data();\n  });\n  queuedMovies.ua = queuedMovies.ua.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  queuedMovies.en = queuedMovies.en.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  await updateDoc(doc(db, 'users', auth.currentUser.uid), {\n    queuedMovies,\n  }).then(() => {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.success('Успішно видалено');\n    } else {\n      Notiflix.Notify.success('Removed successfully');\n    }\n\n    toggleLibraryModal();\n  });\n}\n\nasync function removeFromWatchedLib() {\n  const { watchedMovies } = await getDoc(\n    doc(db, 'users', auth.currentUser.uid)\n  ).then(res => {\n    return res.data();\n  });\n  watchedMovies.ua = watchedMovies.ua.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  watchedMovies.en = watchedMovies.en.filter(\n    movie => movie.id !== currentMovie.id\n  );\n  await updateDoc(doc(db, 'users', auth.currentUser.uid), {\n    watchedMovies,\n  }).then(() => {\n    if (window.location.hash === '#ua') {\n      Notiflix.Notify.success('Успішно видалено');\n    } else {\n      Notiflix.Notify.success('Removed successfully');\n    }\n\n    toggleLibraryModal();\n  });\n}\n\nfunction toggleLibraryModal() {\n  backdrop.classList.add('is-hidden');\n  window.removeEventListener('keydown', onEscPress);\n  closeBtn.removeEventListener('click', toggleLibraryModal);\n  backdrop.removeEventListener('click', onBackdropClick);\n  if (watchedRemove) {\n    watchedRemove.removeEventListener('click', removeFromWatchedLib);\n  } else {\n    queueRemove.removeEventListener('click', removeFromQueueLib);\n  }\n}\n\nfunction onEscPress(e) {\n  if (e.code === 'Escape') {\n    toggleLibraryModal();\n  }\n}\n\nfunction onBackdropClick(e) {\n  if (e.target === e.currentTarget) {\n    toggleLibraryModal();\n  }\n}\n","export function createLibraryWatchedCardMarkup(data) {\n  if (window.location.hash === '#ua') {\n    const {\n      title,\n      poster_path,\n      genres,\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n      overview,\n    } = data;\n\n    const genresName = genres\n      .map(genreId => {\n        return genreId.name;\n      })\n      .join(', ');\n\n    return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">КОРОТКИЙ ОПИС ФІЛЬМУ</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-watched lng-watched modal-card__btn-watched_active\" data-watched-remove>видалити з перегляду</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n  } else {\n    const {\n      title,\n      poster_path,\n      genres,\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n      overview,\n    } = data;\n\n    const genresName = genres\n      .map(genreId => {\n        return genreId.name;\n      })\n      .join(', ');\n\n    return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">About</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-watched lng-removewatched modal-card__btn-watched_active\" data-watched-remove>remove from watched</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n  }\n}\n\nexport function createLibraryQueueCardMarkup(data) {\n  if (window.location.hash === '#ua') {\n    const {\n      title,\n      poster_path,\n      genres,\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n      overview,\n    } = data;\n\n    const genresName = genres\n      .map(genreId => {\n        return genreId.name;\n      })\n      .join(', ');\n\n    return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">КОРОТКИЙ ОПИС ФІЛЬМУ</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-queue lng-queue modal-card__btn-queue_active\" data-queue-remove>видалити з черги</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n  } else {\n    const {\n      title,\n      poster_path,\n      genres,\n      vote_average,\n      vote_count,\n      popularity,\n      original_title,\n      overview,\n    } = data;\n\n    const genresName = genres\n      .map(genreId => {\n        return genreId.name;\n      })\n      .join(', ');\n\n    return `\n      <div class=\"modal\">\n          <div class=\"modal-card\">\n              <button class=\"modal__btn-close\" data-modal-close>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\"\n              class=\"modal__icon-close\"\n              width=\"24\" height=\"24\"\n              viewBox=\"0 0 24 24\">\n              <path d=\"M 4.7070312 3.2929688 L 3.2929688 4.7070312 L 10.585938 12 L 3.2929688 19.292969 L 4.7070312 20.707031 L 12 13.414062 L 19.292969 20.707031 L 20.707031 19.292969 L 13.414062 12 L 20.707031 4.7070312 L 19.292969 3.2929688 L 12 10.585938 L 4.7070312 3.2929688 z\"></path>\n              </svg>\n              </button>\n              <div class=\"modal-card__images\">\n                  <img\n                  class=\"modal-card__image\"\n                  src=\"https://image.tmdb.org/t/p/w1280/${poster_path}\"\n                  alt=\"Title\"\n                  />\n              </div>\n              <div class=\"modal-card__description\">\n                  <h2 class=\"modal-card__title\">${title}</h2>\n                  <table class=\"modal-card__table\">\n                  <tbody>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Vote / Votes</td>\n                      <td class=\"modal-card__table-data\"><span>${vote_average}</span> / ${vote_count}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Popularity</td>\n                      <td class=\"modal-card__table-data\">${popularity}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Original Title</td>\n                      <td class=\"modal-card__table-data\">${original_title}</td>\n                      </tr>\n                      <tr class=\"modal-card__table-row\">\n                      <td class=\"modal-card__table-data modal-card__table-data--grey\">Genre</td>\n                      <td class=\"modal-card__table-data\">${genresName}</td>\n                      </tr>\n                  </tbody>\n                  </table>\n                  <p class=\"modal-card__about lng-about\">About</p>\n                  <p class=\"modal-card__about-description\">${overview}</p>\n                  <div class=\"modal-card__btn\">\n                    <button class=\"modal-card__btn-queue lng-removequeued modal-card__btn-queue_active\" data-queue-remove>remove from queue</button>\n                </div>\n              </div>\n          </div>\n      </div>\n  `;\n  }\n}\n"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$ftYLF","$b30cb15afcab7dbf$export$5dd3324684556b6e","window","location","hash","$parcel$interopDefault","$d5f11e1429bd181f$exports","URL","resolve","import","meta","url","toString","$39513f969432d2d2$var$watchedBtn","document","querySelector","$39513f969432d2d2$var$queueBtn","$39513f969432d2d2$export$b21c1b4271bdbe93","$39513f969432d2d2$export$2d835d1f08b42ed3","async","$39513f969432d2d2$var$onWatched","$bMZn5","auth","currentUser","classList","add","remove","innerHTML","onSnapshot","doc","db","uid","snapshot","watchedMovies","data","watchedMarkup","console","log","ua","map","$4iZdw","createMarkupElemetsGallery","join","en","$eWCmQ","Notify","failure","addEventListener","queuedMovies","queueMarkup","$eyjy7","onAuthStateChanged","user","authSignOut","parentElement","authFormOpen","$krGWQ","refs","siteNav","$42479f6ff0b692eb$export$cad64ad2e83d7896","title","poster_path","genres","vote_average","vote_count","popularity","original_title","overview","genreId","name","$42479f6ff0b692eb$export$c21c3b70fa936ba5","$2fce746e18d71c20$var$watchedRemove","$2fce746e18d71c20$var$queueRemove","$2fce746e18d71c20$var$closeBtn","$2fce746e18d71c20$var$currentMovie","$2fce746e18d71c20$var$backdrop","$2fce746e18d71c20$var$modal","$2fce746e18d71c20$var$backdropBackground","style","backgroundImage","backdrop_path","backgroundSize","backgroundPosition","$2fce746e18d71c20$var$removeFromQueueLib","getDoc","then","res","filter","movie","updateDoc","success","$2fce746e18d71c20$var$toggleLibraryModal","$2fce746e18d71c20$var$removeFromWatchedLib","removeEventListener","$2fce746e18d71c20$var$onEscPress","$2fce746e18d71c20$var$onBackdropClick","e","code","target","currentTarget","card","closest","Number","dataset","find","error","message","error1"],"version":3,"file":"library.4b1b1063.js.map"}